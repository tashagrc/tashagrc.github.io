import{u as S,g as _,j as e,f as P,B as j}from"./index-CQ5tY4Qa.js";import{u as T,g as D,i as k,a as C}from"./index-ClS9Vb2t.js";import{S as g,a as v,b,c as N,d as u}from"./select-C9k4abZn.js";import{C as F}from"./card-Cse72g4e.js";import{r as m,S as U}from"./repos-CH0Y_oPh.js";const B=["updated","created"],w=Array.from(new Set(Object.values(m).flatMap(s=>s.topics??[]))).sort();function O(){T("Projects");const[s]=S(),c=_(),n=s.get("topic"),d=s.get("sort"),i=n&&w.includes(n)?n:"all",x=B.find(a=>a===d)??"updated",o=a=>{const t=new URLSearchParams(s);a==="all"?t.delete("topic"):t.set("topic",a),c({search:t.toString()},{replace:!0})},h=a=>{const t=new URLSearchParams(s);t.set("sort",a),c({search:t.toString()},{replace:!0})},p=Object.keys(m).filter(a=>{const l=m[a].topics??[];return i==="all"||l.includes(i)}).sort((a,t)=>{const l=m[a],r=m[t];if(x==="created"){const f=l.created_at?new Date(l.created_at).getTime():0;return(r.created_at?new Date(r.created_at).getTime():0)-f}else{const f=l.pushed_at||l.updated_at?new Date(l.pushed_at||l.updated_at||"").getTime():0;return(r.pushed_at||r.updated_at?new Date(r.pushed_at||r.updated_at||"").getTime():0)-f}});return e.jsx("div",{className:"flex flex-1 flex-col items-center gap-10",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-10",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-4 text-4xl font-semibold",children:[e.jsx(D,{}),"Projects"]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-2 items-center mx-2 sm:mx-6 my-1 relative -top-2",children:[e.jsx(L,{topicFilter:i,setTopicFilter:o}),e.jsx(z,{sortBy:x,setSortBy:h})]}),e.jsx(P,{}),e.jsx("div",{className:"grid grid-cols-1 w-full gap-4 px-2 sm:px-6",children:p.map(a=>e.jsx(G,{project_name:a,setTopicFilter:o},a))})]})})}function L({topicFilter:s,setTopicFilter:c}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Filter by topic:"}),e.jsxs(g,{value:s,onValueChange:c,children:[e.jsx(v,{className:"w-[180px] cursor-pointer",children:e.jsx(b,{placeholder:"Topic"})}),e.jsxs(N,{children:[e.jsx(u,{value:"all",children:"ðŸ“‚ All Topics"}),w.map(n=>e.jsx(u,{value:n,children:n},n))]})]}),s!=="all"&&e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>c("all"),className:"px-2 text-sm cursor-pointer text-muted-foreground",children:"Clear filter âœ•"})]})}function z({sortBy:s,setSortBy:c}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Sort by:"}),e.jsxs(g,{value:s,onValueChange:c,children:[e.jsx(v,{className:"w-[160px] cursor-pointer",children:e.jsx(b,{placeholder:"Sort by"})}),e.jsxs(N,{children:[e.jsx(u,{value:"updated",children:"ðŸ•’ Last Updated"}),e.jsx(u,{value:"created",children:"ðŸ“… Created Time"})]})]})]})}function G({project_name:s,setTopicFilter:c}){const n=m[s],{html_url:d,previewImage:i,displayName:x,name:o,description:h,topics:p=[],language:a,homepage:t}=n,l=d||t||null;return e.jsx(F,{className:"rounded-md overflow-hidden gap-0 py-0 w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[l?e.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("div",{className:"aspect-3/2 w-full max-h-72 lg:max-w-75 lg:h-50 overflow-hidden",children:i?e.jsx("img",{src:i,alt:o||"Project image",className:"w-full h-full object-cover",loading:"lazy"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 w-full h-full bg-muted",children:[e.jsx("span",{className:"text-lg font-semibold opacity-80 text-center",children:o||"Unnamed Project"}),e.jsx("span",{className:"text-sm text-muted-foreground text-center",children:"Image not available"})]})})}):e.jsx("div",{className:"aspect-3/2 w-full max-h-72 lg:max-w-75 lg:h-50 overflow-hidden",children:i?e.jsx("img",{src:i,alt:o||"Project image",className:"w-full h-full object-cover",loading:"lazy"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 w-full h-full bg-muted",children:[e.jsx("span",{className:"text-lg font-semibold opacity-80 text-center",children:o||"Unnamed Project"}),e.jsx("span",{className:"text-sm text-muted-foreground text-center",children:"Image not available"})]})}),e.jsx("div",{className:"w-full border-t block lg:hidden"}),e.jsx("div",{className:"h-full border-l hidden lg:block"}),e.jsxs("div",{className:"flex flex-col p-4 lg:py-2.5 lg:px-5 flex-1 lg:h-50",children:[e.jsx(U,{className:"flex-1 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx("div",{className:"text-base font-semibold",children:d?e.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:underline underline-offset-4",children:x||o}):x||o}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h||"Details unavailable"}),p?.length?e.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.map(r=>e.jsx(j,{variant:"secondary",size:"sm",onClick:()=>c(r),className:"rounded-sm cursor-pointer font-normal px-2 h-7.5 text-sm",children:r},r))}):null]})}),e.jsxs("div",{className:"flex flex-row items-center justify-between text-muted-foreground pt-2",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs("p",{children:["Language: ",a||"Unknown"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[t&&e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Project homepage",className:"hover:text-foreground",children:e.jsx(k,{className:"w-6 h-6"})}),d&&e.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:text-foreground",children:e.jsx(C,{className:"w-6 h-6"})})]})]})]})]})})}export{O as default};
