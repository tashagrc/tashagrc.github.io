import{u as w,g as y,j as e,f as S,B as f}from"./index-DgdhiLpC.js";import{u as P,h as T,j as _,k,c as C}from"./index-iLIg9bca.js";import{S as j,a as g,b as v,c as N,d as p}from"./select-CqqFYbnn.js";import{C as z}from"./card-BquIia5e.js";import{r as m,S as F}from"./repos-C52MLdMs.js";const D=["stars","updated","created"],b=Array.from(new Set(Object.values(m).flatMap(a=>a.topics??[]))).sort();function H(){P("Projects");const[a]=w(),l=y(),t=a.get("topic"),c=a.get("sort"),d=t&&b.includes(t)?t:"all",x=D.find(s=>s===c)??"updated",i=s=>{const r=new URLSearchParams(a);s==="all"?r.delete("topic"):r.set("topic",s),l({search:r.toString()},{replace:!0})},u=s=>{const r=new URLSearchParams(a);r.set("sort",s),l({search:r.toString()},{replace:!0})},h=Object.keys(m).filter(s=>{const n=m[s].topics??[];return d==="all"||n.includes(d)}).sort((s,r)=>{const n=m[s],o=m[r];return x==="stars"?(o.stargazers_count??0)-(n.stargazers_count??0):x==="created"?new Date(o.created_at).getTime()-new Date(n.created_at).getTime():new Date(o.pushed_at).getTime()-new Date(n.pushed_at).getTime()});return e.jsx("div",{className:"flex flex-1 flex-col items-center gap-10",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-10",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-4 text-4xl font-semibold",children:[e.jsx(T,{}),"Projects"]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-2 items-center mx-2 sm:mx-6 my-1 relative -top-2",children:[e.jsx(B,{topicFilter:d,setTopicFilter:i}),e.jsx(U,{sortBy:x,setSortBy:u})]}),e.jsx(S,{}),e.jsx("div",{className:"grid grid-cols-1 w-full gap-4 px-2 sm:px-6",children:h.map(s=>e.jsx(G,{project_name:s,setTopicFilter:i},s))})]})})}function B({topicFilter:a,setTopicFilter:l}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Filter by topic:"}),e.jsxs(j,{value:a,onValueChange:l,children:[e.jsx(g,{className:"w-[180px] cursor-pointer",children:e.jsx(v,{placeholder:"Topic"})}),e.jsxs(N,{children:[e.jsx(p,{value:"all",children:"ðŸ“‚ All Topics"}),b.map(t=>e.jsx(p,{value:t,children:t},t))]})]}),a!=="all"&&e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>l("all"),className:"px-2 text-sm cursor-pointer text-muted-foreground",children:"Clear filter âœ•"})]})}function U({sortBy:a,setSortBy:l}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Sort by:"}),e.jsxs(j,{value:a,onValueChange:l,children:[e.jsx(g,{className:"w-[160px] cursor-pointer",children:e.jsx(v,{placeholder:"Sort by"})}),e.jsxs(N,{children:[e.jsx(p,{value:"updated",children:"ðŸ•’ Last Updated"}),e.jsx(p,{value:"created",children:"ðŸ“… Created Time"}),e.jsx(p,{value:"stars",children:"â­ Star Count"})]})]})]})}function G({project_name:a,setTopicFilter:l}){const t=m[a],{html_url:c,previewImage:d,displayName:x,name:i,description:u,topics:h=[],language:s,stargazers_count:r,homepage:n}=t;return e.jsx(z,{className:"rounded-md overflow-hidden gap-0 py-0 w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("div",{className:"aspect-3/2 w-full max-h-72 lg:max-w-75 lg:h-50 overflow-hidden",children:d?e.jsx("img",{src:d,alt:i||"Project image",className:"w-full h-full object-cover",loading:"lazy"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 w-full h-full bg-muted",children:[e.jsx("span",{className:"text-lg font-semibold opacity-80 text-center",children:i||"Unnamed Project"}),e.jsx("span",{className:"text-sm text-muted-foreground text-center",children:"Image not available"})]})})}),e.jsx("div",{className:"w-full border-t block lg:hidden"}),e.jsx("div",{className:"h-full border-l hidden lg:block"}),e.jsxs("div",{className:"flex flex-col p-4 lg:py-2.5 lg:px-5 flex-1 lg:h-50",children:[e.jsx(F,{className:"flex-1 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx("div",{className:"text-base font-semibold",children:c?e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:underline underline-offset-4",children:x||i}):x||i}),e.jsx("p",{className:"text-sm text-muted-foreground",children:u||"Details unavailable"}),h?.length?e.jsx("div",{className:"flex flex-wrap gap-1.5",children:h.map(o=>e.jsx(f,{variant:"secondary",size:"sm",onClick:()=>l(o),className:"rounded-sm cursor-pointer font-normal px-2 h-7.5 text-sm",children:o},o))}):null]})}),e.jsxs("div",{className:"flex flex-row items-center justify-between text-muted-foreground pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("p",{children:["Language: ",s||"Unknown"]}),r!==null&&e.jsxs("a",{href:`${c}/stargazers`,target:"_blank",rel:"noopener noreferrer","aria-label":"Stargazers",className:"flex items-center gap-1 text-yellow-600 hover:text-yellow-500",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Project homepage",className:"hover:text-foreground",children:e.jsx(k,{className:"w-6 h-6"})}),c&&e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:text-foreground",children:e.jsx(C,{className:"w-6 h-6"})})]})]})]})]})})}export{H as default};
